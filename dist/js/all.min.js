"use strict";angular.module("bikes",["ui.router"]).config(function(e,i){e.state("app",{url:"/",views:{header:{templateUrl:"views/header.html"},content:{templateUrl:"views/menu.html",controller:"BikeController as vm"}}}).state("app.bikedetails",{url:"menu/:id",views:{"content@":{templateUrl:"views/bikedetail.html",controller:"BikeDetailController as vm"}}}).state("app.addbike",{url:"add",views:{"content@":{templateUrl:"views/add.html",controller:"AddBikeController as vm"}}}),i.otherwise("/")}),angular.module("bikes").controller("BikeController",["bikeFactory",function(e){var i=this;i.bikes=e.getBikes()}]).controller("BikeDetailController",["$state","$stateParams","bikeFactory",function(e,i,t){var a=this,r=t.getBike(parseInt(i.id,10));a.bike=r,a.bikes=t.getBikes(),a.updateBike=function(i){r={_id:r._id,model:r.model,brand:r.brand,category:r.category,year:r.year},e.go("app")},a.remove=function(i){_.remove(a.bikes,function(e){return i._id===e._id}),e.go("app")}}]).controller("AddBikeController",["$state","bikeFactory",function(e,i){var t=this;t.bike=[],t.bikes=i.getBikes(),t.maxId=function(){var e=0;return t.bikes.map(function(i){i._id>e&&(e=i._id)}),e},t.mybike={_id:t.maxId(t.bikes)+1,model:"",brand:"",image:"images/default.jpg",category:"",year:""},t.addBike=function(){t.bikes.push(t.mybike),e.go("app"),t.mybike={_id:t.maxId(t.bikes)+1,model:"",brand:"",image:"",category:"",year:""}}}]),angular.module("bikes").service("bikeFactory",function(){var e=[{_id:0,model:"Gambler 710",brand:"Scott",image:"images/gambler.jpg",category:"downhill",year:2016},{_id:1,model:"Genious LT 720",brand:"Scott",image:"images/genius.jpg",category:"enduro",year:2015},{_id:2,model:"Enduro",brand:"Specialized",image:"images/enduro.jpg",category:"enduro",year:2014},{_id:3,model:"Speedster 60",brand:"Scott",image:"images/speedster.jpg",category:"road",year:2013},{_id:4,model:"Attain GTC Race",brand:"Cube",image:"images/cube.jpg",category:"road",year:2016}];this.getBikes=function(){return e},this.getBike=function(i){return _.find(e,{_id:i})}});